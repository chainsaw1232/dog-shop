<!--payResult/index.wxml-->
<view class="container">
  <!-- 支付结果 -->
  <view class="result-section">
    <view class="result-icon">
      <image src="{{status === 'success' ? 'cloud://cloud1-2gz5tcgibdf4bfc0.636c-cloud1-2gz5tcgibdf4bfc0-1360056125/images/pay_success.png' : 'cloud://cloud1-2gz5tcgibdf4bfc0.636c-cloud1-2gz5tcgibdf4bfc0-1360056125/images/pay_fail.png'}}" class="icon"></image>
    </view>
    <view class="result-title">{{status === 'success' ? '支付成功' : '支付失败'}}</view>
    <view class="result-desc">{{status === 'success' ? '您的订单已支付成功，商家将尽快为您发货' : '支付遇到问题，请稍后重试或联系客服'}}</view>
    <view class="order-info" wx:if="{{orderDetail}}">
      <view class="info-item">
        <text class="info-label">订单编号</text>
        <text class="info-value">{{orderDetail.orderNumber}}</text>
      </view>
      <view class="info-item">
        <text class="info-label">支付金额</text>
        <text class="info-value price">¥{{orderDetail.totalAmount}}</text>
      </view>
    </view>
  </view>
  
  <!-- 操作按钮 -->
  <view class="action-buttons">
    <block wx:if="{{status === 'success'}}">
      <button class="btn-secondary" bindtap="viewOrder">查看订单</button>
      <button class="btn-primary" bindtap="backToHome">返回首页</button>
    </block>
    <block wx:else>
      <button class="btn-secondary" bindtap="backToOrder">返回订单</button>
      <button class="btn-primary" bindtap="retryPay">重新支付</button>
    </block>
  </view>
  
  <!-- 推荐商品 -->
  <view class="recommend-section" wx:if="{{recommendProducts.length > 0}}">
    <view class="section-title">为您推荐</view>
    <view class="product-list">
      <view class="product-item" wx:for="{{recommendProducts}}" wx:key="id" bindtap="navigateToDetail" data-id="{{item.id}}">
        <image src="{{item.imageUrl}}" class="product-image" mode="aspectFill"></image>
        <view class="product-info">
          <view class="product-name text-ellipsis-2">{{item.name}}</view>
          <view class="product-price">
            <text class="price-current">¥{{item.price}}</text>
            <text class="price-original" wx:if="{{item.originalPrice > item.price}}">¥{{item.originalPrice}}</text>
          </view>
        </view>
      </view>
    </view>
  </view>
</view>
